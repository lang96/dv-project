<!DOCTYPE html>
<html>
<head>
    <title>On The Inside</title>
    <link rel="icon" type="image/x-icon" href="https://cdn-icons-png.flaticon.com/512/2418/2418779.png">
    <link rel="stylesheet" href="assets/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.0"></script>
    <style>
        @font-face {
            font-family: 'F1_Regular';
            src: url('assets/fonts/Formula1-Regular_web_0.ttf') format('truetype');
        }

        @font-face {
            font-family: 'F1_Bold';
            src: url('assets/fonts/Formula1-Bold_web_0.ttf') format('truetype');
        }

        @font-face {
            font-family: 'F1_Wide';
            src: url('assets/fonts/Formula1-Wide_web_0.ttf') format('truetype');
        }
    </style>
</head>
<body>
<div id="header">
    <h1>On The Inside - Dominance and Glory in Formula 1</h1>
</div>

<div id="content">
    <h2>Welcome to the Formula 1 Dashboard</h2>
    <p>Select a menu option to view the desired information.</p>

    <!-- Place your D3 visualizations or other content here -->

</div>

<div id="footer">
    <p>&copy; 2023 Formula 1 Dashboard. All rights reserved.</p>
</div>

<script>
    const csvData = {}; // Object to hold the CSV data

    // Function to handle parsed CSV data
    function handleCSVData(filename, results) {
        csvData[filename] = results.data; // Store the parsed data in the object
    }

    // Read and parse multiple CSV files
    const files = ["assets/data/circuits.csv", "assets/data/drivers.csv", "assets/data/results.csv"]; // Replace with your file names

    files.forEach(function(file) {
        console.log(file.split('/').pop());
        const filename = file.split('/').pop();
        Papa.parse(file, {
            header: true,
            dynamicTyping: true,
            delimiter: ",",
            complete: function(results) {
                console.log(results);
                handleCSVData(filename, results);
            }
        });
    });

    // Function to print driver and their corresponding results
    function printDriverResults(driverId) {
        // Find the driver data based on driver ID
        const driverData = csvData["drivers.csv"].find(function(driver) {
            return driver.driverId === driverId;
        });

        // Find the results data for the driver ID
        const driverResults = csvData["results.csv"].filter(function(result) {
            return result.driverId === driverId;
        });

        // Print driver details
        console.log("Driver ID:", driverData.driverId);
        console.log("Driver Name:", driverData.forename + " " + driverData.surname);
        console.log("Driver Nationality:", driverData.nationality);
        // Print other driver details as needed

        // Print corresponding results for the driver
        console.log("Driver Results:");
        driverResults.forEach(function(result) {
            console.log("Race ID:", result.raceId);
            console.log("Grid Position:", result.grid);
            console.log("Final Position:", result.position);
            console.log("Race Points:", result.points);
            // Print other result details as needed
        });
    }

    // Call the function to print results for a specific driver ID
    const desiredDriverId = 1; // Replace with the desired driver ID
    printDriverResults(desiredDriverId);
</script>

</body>
</html>